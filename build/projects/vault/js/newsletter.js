!function(){"use strict";({initialized:!1,initialize:function(){this.initialized||(this.initialized=!0,this.build(),this.events())},build:function(){this.validations()},events:function(){},validations:function(){var e=$("#newsletter-form"),s=e.attr("action");e.validate({submitHandler:function(e){var t=$(this.submitButton);t.button("loading"),$.ajax({type:"POST",url:s,data:{email:$("#newsletter-form #email").val()},dataType:"json",success:function(e){"success"==e.response?($("#newsletter-alert-success").removeClass("hidden"),$("#newsletter-alert-error").addClass("hidden"),$("#newsletter-form .form-control").val("").blur().parent().removeClass("has-success").removeClass("has-error").find("label.error").remove(),$("#newsletter-alert-success").position().top-80<$(window).scrollTop()&&$("html, body").animate({scrollTop:$("#newsletter-alert-success").offset().top-80},300)):($("#newsletter-alert-error").removeClass("hidden"),$("#newsletter-alert-success").addClass("hidden"),$("#newsletter-alert-error").position().top-80<$(window).scrollTop()&&$("html, body").animate({scrollTop:$("#newsletter-alert-error").offset().top-80},300))},complete:function(){t.button("reset")}})},rules:{email:{required:!0,email:!0}},highlight:function(e){$(e).parent().removeClass("has-success").addClass("has-error")},success:function(e){$(e).parent().removeClass("has-error").addClass("has-success").find("label.error").remove()}})}}).initialize()}();